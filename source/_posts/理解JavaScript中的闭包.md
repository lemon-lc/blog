---
title: 理解JavaScript中的闭包
tag: 深入学习JS
date: 2019-02-17
---

#### 什么是闭包
> 闭包是指有权访问另一个函数作用域中的变量的函数。

闭包不是我们需要学习的语法或者模式才能使用的工具，闭包是基于词法作用域书写代码是所产生的自然结果，闭包在我们所写的代码中随处可见。
<!-- more -->
#### 闭包的产生
> 当函数可以记住并访问所在的词法作用域是，就产生了闭包，即使函数是在当前词法作用域之外执行。

根据闭包的定义其实创建闭包最常用的方式就是在一个函数内部创建另外一个函数：

```javascript
function fn() {
    var str = 'fn';
    function innerFn() {
        console.log(str)
    }
    return innerFn;
}

var spoce = fn();
spoce() // 'fn'
```
函数 innerFn 能过访问 fn 的内部作用域，fn 函数将 innerFn 所引用的函数对象作为一个返回值传递出去。
fn 函数执行后，spoce 获取 innerFn 引用的函数对象，执行 spoce 就会打印出 'fn' , 通常一个函数被执行其整个内部作用域都会被销毁，然而 fn 的内部作用域仍然存在, 并且 spoce 可以在 fn 内部作用域之外访问到 fn 函数内部的变量。
其实这一切都是因为 innerFn 函数拥有覆盖 fn 函数内部作用域的闭包，使得该作用域能够一直存货，以供 innerFn 在之后的任何时间进行引用。
innerFn 函数对 fn 函数内部作用域的持续引用就叫做闭包。

#### 闭包的应用
> JavaScript中闭包无处不在。
设计模式 单例
for循环 闭包1234
#### 总结
总结111
